# =====================================================================
# Clinical Portal 2.0 - Central Environment Configuration
# =====================================================================
# This is the single source of truth for all environment variables.
# All services reference this file via envFilePath: ['.env', '../../.env']
# Docker Compose also references this file via env_file directive.
# =====================================================================

# =====================================================================
# SHARED CONFIGURATION (Used by multiple services)
# =====================================================================

# --- Node Environment ---
NODE_ENV=production

# --- Database Credentials (shared across all PostgreSQL instances) ---
DB_USER=clinical_user
DB_PASSWORD=clinical_password
DB_PORT=5432

# --- JWT (must be identical across all services) ---
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production-min-32-chars
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# --- Security ---
BCRYPT_ROUNDS=12

# --- RabbitMQ ---
RABBITMQ_USER=clinical_user
RABBITMQ_PASSWORD=rabbitmq_password
RABBITMQ_URL=amqp://clinical_user:rabbitmq_password@localhost:5672/clinical_portal

# --- Redis ---
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password

# --- CORS ---
CORS_ORIGIN=http://localhost:3100

# =====================================================================
# AUTH SERVICE (Port 3001)
# =====================================================================
AUTH_DB_HOST=localhost
AUTH_DB_PORT=5432
AUTH_DB_USER=clinical_user
AUTH_DB_PASSWORD=clinical_password
AUTH_DB_NAME=auth_db

# =====================================================================
# USER SERVICE (Port 3002)
# =====================================================================
USER_DB_HOST=localhost
USER_DB_PORT=5432
USER_DB_USER=clinical_user
USER_DB_PASSWORD=clinical_password
USER_DB_NAME=user_db
AUTH_SERVICE_URL=http://localhost:3001
AUTH_SERVICE_INTERNAL_KEY=internal-service-communication-key

# =====================================================================
# RBAC SERVICE (Port 3003)
# =====================================================================
RBAC_DB_HOST=localhost
RBAC_DB_PORT=5432
RBAC_DB_USER=clinical_user
RBAC_DB_PASSWORD=clinical_password
RBAC_DB_NAME=rbac_db
REDIS_CACHE_TTL=3600

# =====================================================================
# AUDIT SERVICE (Port 3004)
# =====================================================================
AUDIT_DB_HOST=localhost
AUDIT_DB_PORT=5432
AUDIT_DB_USER=clinical_user
AUDIT_DB_PASSWORD=clinical_password
AUDIT_DB_NAME=audit_db
AUDIT_QUEUE=audit.logs
AUDIT_DATA_ACCESS_QUEUE=audit.data-access
AUDIT_RETENTION_DAYS=2555

# =====================================================================
# PATIENT SERVICE (Port 3005)
# =====================================================================
PATIENT_DB_HOST=localhost
PATIENT_DB_PORT=5432
PATIENT_DB_USER=clinical_user
PATIENT_DB_PASSWORD=clinical_password
PATIENT_DB_NAME=patient_db

# =====================================================================
# CLINICAL SERVICE (Port 3006)
# =====================================================================
CLINICAL_DB_HOST=localhost
CLINICAL_DB_PORT=5432
CLINICAL_DB_USER=clinical_user
CLINICAL_DB_PASSWORD=clinical_password
CLINICAL_DB_NAME=clinical_db

# =====================================================================
# HOSPITAL SERVICE (Port 3007)
# =====================================================================
HOSPITAL_DB_HOST=localhost
HOSPITAL_DB_PORT=5432
HOSPITAL_DB_USER=clinical_user
HOSPITAL_DB_PASSWORD=clinical_password
HOSPITAL_DB_NAME=hospital_db

# =====================================================================
# APPOINTMENT SERVICE (Port 3008)
# =====================================================================
APPOINTMENT_DB_HOST=localhost
APPOINTMENT_DB_PORT=5432
APPOINTMENT_DB_USER=clinical_user
APPOINTMENT_DB_PASSWORD=clinical_password
APPOINTMENT_DB_NAME=appointment_db

# =====================================================================
# API GATEWAY (Port 3000)
# =====================================================================
# Service URLs (used by API Gateway for proxying)
# When running locally, these point to localhost
# Docker overrides these to container names
AUDIT_SERVICE_URL=http://localhost:3004
PATIENT_SERVICE_URL=http://localhost:3005
CLINICAL_SERVICE_URL=http://localhost:3006
HOSPITAL_SERVICE_URL=http://localhost:3007
APPOINTMENT_SERVICE_URL=http://localhost:3008
RBAC_SERVICE_URL=http://localhost:3003
USER_SERVICE_URL=http://localhost:3002

# =====================================================================
# FRONTEND - WEB (Port 3100)
# =====================================================================
NEXT_PUBLIC_API_URL=http://localhost:3000

# =====================================================================
# MONITORING
# =====================================================================
GRAFANA_PASSWORD=admin123
